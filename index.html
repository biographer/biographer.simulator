<html>

<head>
	<title>biosimulator</title>

	<style>
		body			{
					background-color:	white;
					color:			#9ec9e2;
					overflow:		hidden;
					}
		div.tab			{
					border:			1px dashed blue;
					color:			black;
					position:		absolute;
					left:			1px;
					right:			1px;
					top:			30px;
					bottom:			38px;
					overflow:		scroll;
					}
		#graphvizSVG		{
					border:			none;
					position:		absolute;
					left:			1px;
					top:			1px;
					right:			1px;
					bottom:			1px;
					}
		#buiCanvas		{
					top:			60px;
					bottom:			0;
					color:			#9ec9e2;
					}
		#Progress		{
					color:			blue;
					font-weight:		bold;
					}
		#Statusbar		{
					position:		absolute;
					left:			10px;
					bottom:			10px;
					color:			black;
					font-weight:		bold;
					}
	</style>

	<script>
		env = {}
		env["biographer"] = "/{{ = request.application }}";
		env["tools"] = "{{ = URL(request.application, 'static', 'tools') }}";
		env["templates"] = "{{ = URL(request.application, 'static', 'controls') }}";
		env["images"] = "{{ = URL(request.application, 'static', 'img') }}";
	</script>

	<!-- our own scripts -->
	<script src="{{ = URL(request.application, 'static/tools', 'string.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'array.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'httplib.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'popups.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'templates.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'visibility.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'fader.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'jSBGN.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'BooleNet.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'import.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/tools', 'RBoolNet.js') }}"></script>

	<script src="{{ = URL(request.application, 'static/controls', 'controls.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/controls', 'importBooleNet.js') }}"></script>
	<script src="{{ = URL(request.application, 'static/controls', 'importRBoolNet.js') }}"></script>

	<!-- linked in from visualization (bui) repo -->
	<script type="text/javascript" src="{{ = URL(r=request, c='static', f='bui') }}/js/jquery-1.6.min.js"></script>
	<script type="text/javascript" src="{{ = URL(r=request, c='static', f='bui') }}/js/jquery.simulate.js"></script>
	<script type="text/javascript" src="{{ = URL(r=request, c='static', f='bui') }}/js/jquery-ui-1.8.12.custom.min.js"></script>
	<link rel="stylesheet" type="text/css" href="{{ = URL(r=request, c='static', f='bui') }}/css/jquery-ui-1.8.13.css" />
	<script type="text/javascript" src="{{ = URL(request.application, 'static/bui/js', 'biographer-ui.js') }}"></script>
	<link rel="stylesheet" type="text/css" href="{{ = URL(request.application, 'static/bui/css', 'visualization-html.css') }}"/>

	<!-- linked in from simulator repo -->
	<script src="{{ = URL(request.application, 'static/simulator', 'simulator.js') }}"></script>
</head>

<body>
	<script>
		network = new jSBGN( nodes=[], edges=[] );

		window.onunload = function() {
					popupControls.close();
//					confirm('Really close and loose unsaved data ?');
					}
	</script>

	<input class=tabselector id=graphviz	type=button value=graphviz />
	<input class=tabselector id=bui		type=button value=bui />
	<input class=tabselector id=editor	type=button value=editor />
	<input class=tabselector id=annotation	type=button value=annotation />

	<label id=Progress></label>
	<label id=Steps>0</label>

	<div class=tab id="bui_tab">
		no bui SVG loaded
	</div>
	<div class=tab id="editor_tab">
		editor not installed
	</div>
	<div class=tab id="graphviz_tab">
		no graphviz SVG loaded
	</div>
	<div class=tab id="annotation_tab" style="padding: 20px;">
		no annotation loaded
	</div>
	<script src="{{ = URL(request.application, 'static/tools', 'tabs.js') }}"></script>
	<script>
		showTab('graphviz');
	</script>


	<!--script src="/biographer/static/tools/SVGPan.js"></script-->

	<input type=button value=half onclick='document.getElementById("viewport").setAttribute("transform", "scale(300 300) rotate(0) transform(4 1448)");'/>

	<div style="border: none; float:right;">
		mouse click:
		<input type=button id='btnSimulation' value='simulation' onclick='setMouseClickSimulation();'/>
		<input type=button id='btnAnnotation' value='annotation' onclick='setMouseClickAnnotation();'/>
	</div>
	<script>
		setMouseClickSimulation = function() {
			mouseClick = 'simulation';
			document.getElementById('btnSimulation').style['background-color'] = 'blue';
			document.getElementById('btnSimulation').style.color = 'white';
			document.getElementById('btnAnnotation').style['background-color'] = '#DDD';
			document.getElementById('btnAnnotation').style.color = 'black';
			}
		setMouseClickAnnotation = function() {
			mouseClick = 'annotation';
			document.getElementById('btnSimulation').style['background-color'] = '#DDD';
			document.getElementById('btnSimulation').style.color = 'black';
			document.getElementById('btnAnnotation').style['background-color'] = 'blue';
			document.getElementById('btnAnnotation').style.color = 'white';
			}
		setMouseClickAnnotation();
	</script>


	<div id=Statusbar>
		<script>
			function showControls() {
				if ( typeof(popupControls) != "undefined" )
					popupControls.close();
				popupControls = new TemplatePopup.open('/controls.html', 'Controls', 220, 360);
				}

			document.onkeyup = function(e) {
						if (e.keyCode == 67) { // "C"
							showControls();
							}
						else if (e.keyCode == 27) { // escape
							if ( typeof(importBooleNetWindow) != 'undefined' )
								importBooleNetWindow.close();
							else 	popupControls.close();
							}
						};

//			showControls();
//			window.setTimeout('LoadWhi2p();', 500);
		</script>
		<input type=button value="press C for controls" onclick="showControls();"/>
	</div>
</body>

</html>
